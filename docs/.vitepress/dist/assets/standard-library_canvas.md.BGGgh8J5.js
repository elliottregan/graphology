import{_ as s,o as i,c as e,ag as n}from"./chunks/framework.CbQjVMS6.js";const g=JSON.parse('{"title":"canvas","description":"","frontmatter":{"title":"canvas"},"headers":[],"relativePath":"standard-library/canvas.md","filePath":"standard-library/canvas.md"}'),t={name:"standard-library/canvas.md"};function r(l,a,o,h,p,d){return i(),e("div",null,[...a[0]||(a[0]=[n(`<div class="lib-links"> [Library directory](https://github.com/graphology/graphology/tree/master/src/canvas) | [Changelog](https://github.com/graphology/graphology/tree/master/src/canvas/CHANGELOG.md) </div><h1 id="graphology-canvas" tabindex="-1">Graphology Canvas <a class="header-anchor" href="#graphology-canvas" aria-label="Permalink to &quot;Graphology Canvas&quot;">​</a></h1><p>Canvas rendering routines for <a href="/"><code>graphology</code></a>.</p><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm install graphology-canvas</span></span></code></pre></div><p>If you need to use this package&#39;s functions in node, you will also need to install <a href="https://www.npmjs.com/package/canvas" target="_blank" rel="noreferrer"><code>node-canvas</code></a> thusly:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm install canvas</span></span></code></pre></div><p>If you experience any issue when installing the libray check that you have the required dependencies as listed <a href="https://www.npmjs.com/package/canvas#compiling" target="_blank" rel="noreferrer">here</a>.</p><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><h3 id="pre-requisites" tabindex="-1">Pre-requisites <a class="header-anchor" href="#pre-requisites" aria-label="Permalink to &quot;Pre-requisites&quot;">​</a></h3><p>Each node&#39;s position must be set before rendering a graph. Two attributes called <code>x</code> and <code>y</code> must therefore be defined for all the graph nodes. <a href="/standard-library/layout">graphology-layout</a> or <a href="https://github.com/graphology/graphology-layout-forceatlas2" target="_blank" rel="noreferrer">graphology-layout-forceatlas2</a>, for instance, can be used to give positions to nodes if they don&#39;t have one already.</p><h3 id="rendering-a-graph-in-an-arbitrary-canvas-context" tabindex="-1">Rendering a graph in an arbitrary canvas context <a class="header-anchor" href="#rendering-a-graph-in-an-arbitrary-canvas-context" aria-label="Permalink to &quot;Rendering a graph in an arbitrary canvas context&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {render} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;graphology-canvas&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(graph, context, settings);</span></span></code></pre></div><h3 id="rendering-asynchronously-to-avoid-freezing-main-thread" tabindex="-1">Rendering asynchronously to avoid freezing main thread <a class="header-anchor" href="#rendering-asynchronously-to-avoid-freezing-main-thread" aria-label="Permalink to &quot;Rendering asynchronously to avoid freezing main thread&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {renderAsync} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;graphology-canvas&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">renderAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(graph, context, settings, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Done!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="rendering-a-graph-to-png-in-node" tabindex="-1">Rendering a graph to PNG in node <a class="header-anchor" href="#rendering-a-graph-to-png-in-node" aria-label="Permalink to &quot;Rendering a graph to PNG in node&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {renderToPNG} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;graphology-canvas/node&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">renderToPNG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(graph, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./graph.png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Done!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">renderToPNG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(graph, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./graph.png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, settings, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Done!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre></div><h3 id="settings" tabindex="-1">Settings <a class="header-anchor" href="#settings" aria-label="Permalink to &quot;Settings&quot;">​</a></h3><ul><li><strong>width</strong> <span class="code">?number</span> <span class="default">2048</span>: width of the canvas. Will be the same as <code>height</code> if not provided.</li><li><strong>height</strong> <span class="code">?number</span> <span class="default">2048</span>: height of the canvas. Will be the same as <code>width</code> if not provided.</li><li><strong>padding</strong> <span class="code">?number</span> <span class="default">20</span>: padding to keep around the drawing.</li><li><strong>nodes</strong> <span class="code">?object</span>: node-related settings: <ul><li><strong>defaultColor</strong> <span class="code">?string</span> <span class="default">#999</span>: default color for nodes.</li><li><strong>reducer</strong> <span class="code">?function</span>: reducer fonction for nodes taking the rendering settings, the node key and its attributes and tasked to return rendering info such as <code>color</code>, <code>size</code> etc.</li></ul></li><li><strong>edges</strong> <span class="code">?object</span>: node-related settings: <ul><li><strong>defaultColor</strong> <span class="code">?string</span> <span class="default">#ccc</span>: default color for edges.</li><li><strong>reducer</strong> <span class="code">?function</span>: reducer fonction for edges taking the rendering settings, the node key and its attributes and tasked to return rendering info such as <code>color</code>, <code>size</code> etc.</li></ul></li></ul><h3 id="async-settings" tabindex="-1">Async Settings <a class="header-anchor" href="#async-settings" aria-label="Permalink to &quot;Async Settings&quot;">​</a></h3><ul><li><strong>batchSize</strong> <span class="code">?number</span> <span class="default">500</span>: number of items to render on canvas on each animation frame, increase or decrease to tweak performance vs. UI availability.</li></ul>`,21)])])}const k=s(t,[["render",r]]);export{g as __pageData,k as default};
